- if user_signed_in?
  - if current_user.favorites.find_by(user_id: current_user.id, product_id: product.id)
    = link_to product_favorite_path(id: current_user.id, product_id: product.id), method: :DELETE, id: "favorite-button", remote: true do
      %span.fa.fa-heart.favorite-red-btn-index#remote-button
      %span.facorite-count#remote-button
        = Favorite.where(product_id: product.id).count
  - else
    = link_to product_favorites_path(product_id: product.id), method: :POST, id: "favorite-button", remote: true do
      %span.fa.fa-heart.favorite-btn-index#remote-button
      %span.facorite-count#remote-button
        = Favorite.where(product_id: product.id).count
- else
  #favorite-button
    %span.fa.fa-heart.favorite-btn-index
    %span.facorite-count
      = Favorite.where(product_id: product.id).count

